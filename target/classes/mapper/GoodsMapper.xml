<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.pack.store.mapper.GoodsMapper">
	<select id="queryGoodsList" resultType="com.alibaba.fastjson.JSONObject" parameterType="java.lang.String" >
		select
		id, store_id storeId, goods_url goodsUrl, goods_name goodsName, goods_status goodsStatus, goods_price goodsPrice, goods_discount goodsDiscount, discount_type discountType,
    goods_intro goodsIntro, goods_num goodsNum, create_by createBy, create_time createTime, update_by updateBy, update_time updateTime
		from t_goods
		<where>
			store_id = #{storeId}
			<if test="categoryId != null">
				category_id = #{categoryId}
			</if>
		</where>
	</select>
	<delete id="delGoods" parameterType="java.lang.String" >
    delete from t_goods
    where id = #{id,jdbcType=CHAR}
  </delete>
	<insert id="addGoods" parameterType="com.alibaba.fastjson.JSONObject" >
    insert into t_goods (id, store_id, goods_url,
      goods_name, goods_status, goods_price,
      goods_discount, discount_type, goods_intro,
      goods_num, create_by, create_time,
      update_by, update_time)
    values (#{id,jdbcType=CHAR}, #{storeId,jdbcType=CHAR}, #{goodsUrl,jdbcType=VARCHAR},
      #{goodsName,jdbcType=VARCHAR}, #{goodsStatus,jdbcType=TINYINT}, #{goodsPrice,jdbcType=DECIMAL},
      #{goodsDiscount,jdbcType=DECIMAL}, #{discountType,jdbcType=TINYINT}, #{goodsIntro,jdbcType=VARCHAR},
      #{goodsNum,jdbcType=SMALLINT}, #{createBy,jdbcType=CHAR}, now(),
      #{updateBy,jdbcType=CHAR}, now())
  </insert>
	<update id="editGoods" parameterType="com.alibaba.fastjson.JSONObject" >
		update t_goods
		<set >
			<if test="storeId != null" >
				store_id = #{storeId,jdbcType=CHAR},
			</if>
			<if test="goodsUrl != null" >
				goods_url = #{goodsUrl,jdbcType=VARCHAR},
			</if>
			<if test="goodsName != null" >
				goods_name = #{goodsName,jdbcType=VARCHAR},
			</if>
			<if test="goodsStatus != null" >
				goods_status = #{goodsStatus,jdbcType=TINYINT},
			</if>
			<if test="goodsPrice != null" >
				goods_price = #{goodsPrice,jdbcType=DECIMAL},
			</if>
			<if test="goodsDiscount != null" >
				goods_discount = #{goodsDiscount,jdbcType=DECIMAL},
			</if>
			<if test="discountType != null" >
				discount_type = #{discountType,jdbcType=TINYINT},
			</if>
			<if test="goodsIntro != null" >
				goods_intro = #{goodsIntro,jdbcType=VARCHAR},
			</if>
			<if test="goodsNum != null" >
				goods_num = #{goodsNum,jdbcType=SMALLINT},
			</if>
			<if test="createBy != null" >
				create_by = #{createBy,jdbcType=CHAR},
			</if>
			<if test="createTime != null" >
				create_time = #{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="updateBy != null" >
				update_by = #{updateBy,jdbcType=CHAR},
			</if>
			<if test="updateTime != null" >
				update_time = #{updateTime,jdbcType=TIMESTAMP},
			</if>
		</set>
		where id = #{id,jdbcType=CHAR}
	</update>
</mapper>